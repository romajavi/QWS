{"ast":null,"code":"import React,{useState,useRef,useEffect,Suspense,lazy}from'react';import{useNavigate}from'react-router-dom';import styled from'styled-components';import{ReactTyped}from'react-typed';import{useTranslation}from'react-i18next';import PageContainer from'../components/PageContainer.js';import Button from'../components/Button.js';import{glowButtonStyles}from'../styles/Animations.js';import{useAnimationController}from'../utils/animationController.js';import{motion}from'framer-motion';// Componentes que se cargarán de forma diferida\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Calendar=/*#__PURE__*/lazy(()=>import('../components/Calendar.js'));const StandardPopup=/*#__PURE__*/lazy(()=>import('../components/StandardPopup.js'));const LoadingSpinner=/*#__PURE__*/lazy(()=>import('../components/LoadingSpinner.js'));const Captcha=/*#__PURE__*/lazy(()=>import('../components/Captcha.js'));const ContactWrapper=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: calc(100vh - 120px);\n  width: 100%;\n  padding-bottom: 5rem;\n\n  /* Ensure proper width handling */\n  & > div {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n`;const Title=styled.h1`\n  text-align: center;\n  color: ${props=>props.theme.colors.secondaryBackground};\n  margin: 2rem 0;  // Match Services.js margin\n  font-size: 2.5rem;  // Match Services.js font size\n  text-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\n  height: 3.5rem;  // Match Services.js height\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  @media (max-width: 768px) {\n    font-size: 1.8rem;\n    height: 2.8rem;\n    margin: 1.5rem 0;\n  }\n`;const CheckboxTitle=styled.h3`\n  color: ${props=>props.theme.colors.accent};\n  font-size: 1rem;\n  margin-bottom: 1rem;\n  text-align: center;\n  text-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\n`;const FormContainer=styled.div`\n  width: 150%;\n  max-width: 1300px;\n  margin: 1.5rem 0;  // Match ServicesContainer margin\n  padding: 2rem;  // Match ServicesContainer padding\n  background: ${props=>props.theme.colors.cardBackground};\n  backdrop-filter: blur(10px);\n  border-radius: 20px;\n  position: relative;\n  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);\n  border: 1px solid ${props=>props.hasError?'#ff3333':props.theme.colors.secondaryBackground}40;\n  min-width: min(90%, 1200px);\n  box-sizing: border-box;\n  \n  & > form {\n    width: 100%;\n    max-width: 100%;\n  }\n\n  @media (max-width: 1400px) {\n    max-width: 1000px;\n  }\n\n  @media (max-width: 768px) {\n    width: 95%;\n    padding: 1.5rem;\n    margin: 0.5rem auto;\n    gap: 2rem;\n  }\n`;const FormGrid=styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 2rem;\n  margin-bottom: 2rem;\n  width: 100%; // Ensure full width\n\n  @media (min-width: 768px) {\n    grid-template-columns: minmax(300px, 1fr) 2px minmax(300px, 1fr);\n    gap: 2rem;\n  }\n\n  /* Ensure grid items don't overflow */\n  & > * {\n    width: 100%;\n    max-width: 100%;\n  }\n`;const Section=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem; // Ajustamos el gap para mantener consistencia\n  width: 100%;\n  padding: 1rem;\n\n  h2 {\n    color: ${props=>props.theme.colors.primary};\n    font-size: 1.5rem;\n    margin-bottom: 1rem;\n    text-align: left;\n    position: relative;\n\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: -5px;\n      left: 0;\n      width: 100%;\n      height: 2px;\n      background: linear-gradient(\n        90deg,\n        ${props=>props.theme.colors.primary},\n        ${props=>props.theme.colors.accent},\n        transparent\n      );\n    }\n  }\n`;const Input=styled.input`\n  width: 100%;\n  padding: 0.8rem;\n  margin-bottom: 1rem;\n  background: rgba(30, 30, 30, 0.7);\n  border: 1px solid ${props=>props.$hasError?'#ff3333':`${props.theme.colors.secondaryBackground}40`};\n  border-radius: 8px;\n  color: ${props=>props.theme.colors.text};\n\n  &:-webkit-autofill,\n  &:-webkit-autofill:hover,\n  &:-webkit-autofill:focus {\n    -webkit-text-fill-color: ${props=>props.theme.colors.text};\n    -webkit-box-shadow: 0 0 0px 1000px rgba(30, 30, 30, 0.7) inset;\n    transition: background-color 5000s ease-in-out 0s;\n  }\n`;const TextArea=styled.textarea`\n  width: 100%;\n  padding: 0.8rem;\n  background: rgba(30, 30, 30, 0.7);\n  border: 1px solid ${props=>props.$hasError?'#ff3333':`${props.theme.colors.secondaryBackground}40`};\n  border-radius: 8px;\n  color: ${props=>props.theme.colors.text};\n  flex: 1; // Permitimos que crezca para llenar el espacio\n  min-height: 200px; // Altura mínima que coincide con el captcha\n  height: calc(100% - 2rem); // Restamos el espacio del título\n  resize: vertical;\n  transition: all 0.3s ease;\n  margin-bottom: 0; // Eliminamos el margen inferior\n\n  &:focus {\n    outline: none;\n    border-color: ${props=>props.theme.colors.accent};\n    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\n  }\n`;const baseSpacing={marginBottom:'1rem',containerGap:'1.5rem'// Añadimos un valor consistente para el espacio entre contenedores\n};const Select=styled.select`\n  width: 100%; // Cambiado a ancho completo\n  max-width: 250px; // Mismo ancho máximo que RadioLabel\n  padding: 0.8rem;\n  margin: 0 auto 1rem auto;\n  display: block;\n  background: rgba(30, 30, 30, 0.7);\n  border: 1px solid ${props=>props.theme.colors.secondaryBackground}40;\n  border-radius: 8px;\n  color: ${props=>props.theme.colors.text};\n  cursor: pointer;\n  text-align: center;\n\n  &:focus {\n    outline: none;\n    border-color: ${props=>props.theme.colors.accent};\n    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\n  }\n\n  option {\n    background: ${props=>props.theme.colors.background};\n    color: ${props=>props.theme.colors.text};\n    padding: 0.5rem;\n  }\n`;const PreferenceGroup=styled.div`\n  background: rgba(30, 30, 30, 0.5);\n  padding: 1.2rem;\n  border-radius: 8px;\n  border: ${props=>props.theme.colors.secondaryBackground};\n  margin-bottom: ${baseSpacing.marginBottom};\n\n  @media (min-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n`;const PreferencesContainer=styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: ${baseSpacing.containerGap}; // Usamos gap en lugar de margin para un espaciado más consistente\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;const RadioContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n\n  /* Espaciado consistente para móvil */\n  gap: 1rem;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n    justify-content: center;\n    gap: 1rem;\n  }\n`;const RadioLabel=styled.label`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n  color: ${props=>props.theme.colors.text};\n  cursor: pointer;\n  padding: 0.8rem 1.2rem;\n  background: rgba(30, 30, 30, 0.7);\n  border-radius: 5px;\n  width: 100%; // Ancho completo\n  max-width: 250px; // Limitar el ancho máximo para mejor apariencia\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(0, 255, 255, 0.1);\n    transform: translateY(-2px);\n  }\n\n  input[type=\"radio\"] {\n    appearance: none;\n    width: 18px;\n    height: 18px;\n    border: 2px solid ${props=>props.$error?'#ff3333':props.theme.colors.primary};\n    border-radius: 50%;\n    position: relative;\n    transition: all 0.3s ease;\n\n    &:checked {\n      background: ${props=>props.theme.colors.primary};\n      border-color: ${props=>props.theme.colors.accent};\n      box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);\n\n      &::after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 8px;\n        height: 8px;\n        border-radius: 50%;\n        background: ${props=>props.theme.colors.background};\n      }\n    }\n  }\n    @media (min-width: 768px) {\n    width: calc(50% - 0.5rem); // Distribuye el espacio equitativamente\n  }\n`;const Divider=styled.div`\n  display: none;\n\n  @media (min-width: 768px) {\n    display: block;\n    width: 2px;\n    background: linear-gradient(\n      to bottom,\n      transparent,\n      ${props=>props.theme.colors.primary},\n      ${props=>props.theme.colors.accent},\n      ${props=>props.theme.colors.primary},\n      transparent\n    );\n    margin: 0 1rem;\n    opacity: 0.6;\n  }\n`;const MessageText=styled.p`\n  font-size: 1.1rem;\n  line-height: 1.5;\n  color: ${props=>props.theme.colors.text};\n  margin: 0.5rem 0;\n`;const StatusIcon=styled.span`\n  font-size: 3rem;\n  margin-bottom: 0.5rem;\n`;const PopupMessage=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem 0;\n`;const FormSection=styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  flex: 1; // Asegura que ocupe todo el espacio vertical disponible\n`;const TextAreaContainer=styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100%; // Aseguramos que ocupe todo el espacio vertical disponible\n`;const CustomButtonGroup=styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  margin-top: 2rem;\n`;const ClearButton=styled(Button)`\n  background: ${props=>props.theme.colors.secondaryBackground};\n  &:hover {\n    background: ${props=>props.theme.colors.secondaryBackground};\n  }\n`;const SubmitButton=styled(Button)`\n  ${glowButtonStyles}\n`;const ErrorMessage=styled.p`\n  color: #ff3333;\n  font-size: 0.875rem;\n  text-align: center;\n  margin-top: 0.5rem;\n`;const FadeIn=styled.div`\n  animation: fadeIn 0.3s ease-in;\n  \n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n`;const ContentFadeIn=styled.div`\n  opacity: 0;\n  animation: fadeIn 0.3s ease-in forwards;\n  animation-delay: 1s;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n`;const CaptchaContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  margin: 0.5rem 0;\n  padding: 1.2rem; // Igualado al padding de PreferenceGroup\n  background: ${props=>props.theme.colors.primaryBackground};\n  border-radius: 8px;\n  width: 100%; // Ancho completo\n  max-width: 250px; // Mismo ancho máximo que otros elementos\n  margin: 0 auto; // Centrado\n  border: 1px solid ${props=>props.$hasError?'#ff3333':`${props.theme.colors.secondaryBackground}40`};\n  min-height: 200px; // Altura mínima para alinearse con las observaciones\n  justify-content: center; // Centrado vertical del contenido\n`;const CaptchaInput=styled.input`\n  width: 100%; // Ancho completo dentro del contenedor\n  max-width: 200px; // Limitar el ancho máximo\n  padding: 0.8rem;\n  margin-bottom: 0.5rem;\n  border: 1px solid ${props=>props.$hasError?'#ff3333':`${props.theme.colors.accent}40`};\n  border-radius: 8px;\n  background: rgba(30, 30, 30, 0.7);\n  color: ${props=>props.theme.colors.text};\n  text-align: center;\n  font-size: 1rem;\n`;const Contact=()=>{const{shouldAnimate,animationLevel}=useAnimationController();// Configuramos las animaciones del formulario\nconst getFormAnimation=()=>{// Retornar un objeto vacío para evitar cualquier animación\nreturn{};};const formAnimation=getFormAnimation();const{t}=useTranslation();const[formData,setFormData]=useState({name:'',email:'',phone:'',company:'',contactPreference:[],contactDays:[],contactTime:[],appointmentDate:'',appointmentTime:'10:00',appointmentMedium:'',observations:''});const[submitStatus,setSubmitStatus]=useState({success:false,titleKey:'',message:''});const[errors,setErrors]=useState({});const[selectedDate,setSelectedDate]=useState(null);const[isLoading,setIsLoading]=useState(false);const[showPopup,setShowPopup]=useState(false);const[formStatus,setFormStatus]=useState({isSubmitting:false,isSuccess:false,error:null});const[isCaptchaVerified,setIsCaptchaVerified]=useState(false);// Nuevos estados para carga progresiva\nconst[showTitle,setShowTitle]=useState(false);const[isAppointmentLoading,setIsAppointmentLoading]=useState(true);const navigate=useNavigate();const formRef=useRef(null);useEffect(()=>{// Mostrar título primero\nsetShowTitle(true);// Después de la animación del título, cargar el contenido\nconst contentTimer=setTimeout(()=>{setIsAppointmentLoading(false);},1000);// Este delay da tiempo para que el título termine su animación\nreturn()=>{clearTimeout(contentTimer);};},[]);useEffect(()=>{if(formStatus.isSuccess){setSubmitStatus({success:true,titleKey:'contact.form.status.success.title',message:t('contact.form.status.success.message')});setShowPopup(true);}else if(formStatus.error){setSubmitStatus({success:false,titleKey:'contact.form.status.error.title',message:t('contact.form.status.error.message')});setShowPopup(true);}},[formStatus,t]);const validateForm=()=>{console.log('Starting form validation');const newErrors={};if(!formData.name.trim())newErrors.name=true;if(!formData.email||!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email))newErrors.email=true;if(!formData.phone.trim())newErrors.phone=true;if(!formData.observations||formData.observations.trim()==='')newErrors.observations=true;if(!isCaptchaVerified)newErrors.captcha=true;setErrors(newErrors);return Object.keys(newErrors).length===0;};// Función para manejar el envío del formulario\n// 3. Update handleSubmit function\nconst handleSubmit=async e=>{e.preventDefault();setIsLoading(true);if(!validateForm()){setSubmitStatus({success:false,titleKey:'contact.form.errors.title',message:t('contact.form.errors.required')});setShowPopup(true);setIsLoading(false);return;}try{console.log('Enviando datos:',formData);// Debug\nconst response=await fetch('http://localhost:5000/api/contact',{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},body:JSON.stringify(formData)});console.log('Response status:',response.status);// Debug\nconsole.log('Response headers:',response.headers);// Debug\nconst contentType=response.headers.get('content-type');if(!contentType||!contentType.includes('application/json')){throw new Error('Respuesta no válida del servidor');}const data=await response.json();console.log('Response data:',data);// Debug\nif(response.ok){setFormStatus({isSubmitting:false,isSuccess:true,error:null});handleReset();}else{throw new Error(data.message||'Error en el servidor');}}catch(error){console.error('Error detallado:',error);// Debug\nsetFormStatus({isSubmitting:false,isSuccess:false,error:error.message});}finally{setIsLoading(false);}};// 4. Update handleReset function\nconst handleReset=e=>{if(e){e.preventDefault();}setFormData({name:'',email:'',phone:'',company:'',contactPreference:[],contactDays:[],contactTime:[],appointmentDate:'',appointmentTime:'10:00',appointmentMedium:'',observations:''});setSelectedDate(null);setErrors({});setIsCaptchaVerified(false);setSubmitStatus({success:false,titleKey:'',message:''});setShowPopup(false);if(formRef.current){formRef.current.reset();const radios=formRef.current.querySelectorAll('input[type=\"radio\"]');radios.forEach(radio=>{radio.checked=false;});const textarea=formRef.current.querySelector('textarea');if(textarea){textarea.value='';}const select=formRef.current.querySelector('select[name=\"appointmentTime\"]');if(select){select.value='10:00';}}// Limpiar cualquier mensaje de error o éxito que pudiera estar mostrándose\nsetShowPopup(false);};// Función para manejar la selección de fecha\nconst handleDateSelect=date=>{if(!date)return;const formattedDate=date.toISOString().split('T')[0];setSelectedDate(date);setFormData(prev=>({...prev,appointmentDate:formattedDate}));};const handleClosePopup=()=>{setShowPopup(false);if(submitStatus.success){setTimeout(()=>navigate('/'),500);}};console.log('Rendering popup with:',{isOpen:showPopup,titleKey:submitStatus.titleKey,message:submitStatus.message});return/*#__PURE__*/_jsxs(PageContainer,{children:[isLoading&&/*#__PURE__*/_jsx(LoadingSpinner,{fullScreen:true}),/*#__PURE__*/_jsx(ContactWrapper,{children:/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingSpinner,{}),children:[/*#__PURE__*/_jsx(Title,{children:/*#__PURE__*/_jsx(FadeIn,{children:/*#__PURE__*/_jsx(ReactTyped,{strings:[t('contact.title')],typeSpeed:50,showCursor:true,cursorChar:\"|\",startDelay:300})})}),/*#__PURE__*/_jsx(ContentFadeIn,{children:/*#__PURE__*/_jsx(FormContainer,{$hasError:Object.keys(errors).length>0,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,ref:formRef,children:[/*#__PURE__*/_jsxs(FormGrid,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(\"h2\",{children:t('contact.form.sections.personal')}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"name\",placeholder:t('contact.form.inputs.name'),value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),$hasError:errors.name,autoComplete:\"given-name\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",name:\"email\",placeholder:t('contact.form.inputs.email'),value:formData.email,onChange:e=>setFormData({...formData,email:e.target.value}),$hasError:errors.email,autoComplete:\"email\"}),/*#__PURE__*/_jsx(Input,{type:\"tel\",name:\"phone\",placeholder:t('contact.form.inputs.phone'),value:formData.phone,onChange:e=>setFormData({...formData,phone:e.target.value}),$hasError:errors.phone,autoComplete:\"tel\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"company\",placeholder:t('contact.form.inputs.company'),value:formData.company,onChange:e=>setFormData({...formData,company:e.target.value}),autoComplete:\"organization\"}),/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingSpinner,{}),children:[/*#__PURE__*/_jsx(PreferencesContainer,{children:/*#__PURE__*/_jsxs(PreferenceGroup,{$hasError:errors.contactPreference,children:[/*#__PURE__*/_jsx(CheckboxTitle,{$error:errors.contactPreference,children:t('contact.form.preferences.contact.title')}),/*#__PURE__*/_jsxs(RadioContainer,{children:[/*#__PURE__*/_jsxs(RadioLabel,{$hasError:errors.contactPreference,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"contactPreference\",value:\"phone\",checked:formData.contactPreference.includes('phone'),onChange:e=>{setFormData({...formData,contactPreference:[e.target.value]});if(errors.contactPreference){setErrors(prev=>({...prev,contactPreference:false}));}}}),t('contact.form.preferences.contact.options.phone')]}),/*#__PURE__*/_jsxs(RadioLabel,{$hasError:errors.contactPreference,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"contactPreference\",value:\"email\",checked:formData.contactPreference.includes('email'),onChange:e=>{setFormData({...formData,contactPreference:[e.target.value]});if(errors.contactPreference){setErrors(prev=>({...prev,contactPreference:false}));}}}),t('contact.form.preferences.contact.options.email')]})]})]})}),/*#__PURE__*/_jsxs(PreferenceGroup,{$hasError:errors.contactDays,children:[/*#__PURE__*/_jsx(CheckboxTitle,{$error:errors.contactDays,children:t('contact.form.preferences.days.title')}),/*#__PURE__*/_jsxs(RadioContainer,{children:[/*#__PURE__*/_jsxs(RadioLabel,{$hasError:errors.contactDays,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"contactDays\",value:\"weekdays\",checked:formData.contactDays.includes('weekdays'),onChange:e=>{setFormData({...formData,contactDays:[e.target.value]});if(errors.contactDays){setErrors(prev=>({...prev,contactDays:false}));}}}),t('contact.form.preferences.days.options.weekdays')]}),/*#__PURE__*/_jsxs(RadioLabel,{$hasError:errors.contactDays,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"contactDays\",value:\"weekend\",checked:formData.contactDays.includes('weekend'),onChange:e=>{setFormData({...formData,contactDays:[e.target.value]});if(errors.contactDays){setErrors(prev=>({...prev,contactDays:false}));}}}),t('contact.form.preferences.days.options.weekend')]})]})]}),/*#__PURE__*/_jsxs(PreferenceGroup,{$hasError:errors.contactTime,children:[/*#__PURE__*/_jsx(CheckboxTitle,{$error:errors.contactTime,children:t('contact.form.preferences.time.title')}),/*#__PURE__*/_jsxs(RadioContainer,{children:[/*#__PURE__*/_jsxs(RadioLabel,{$hasError:errors.contactTime,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"contactTime\",value:\"morning\",checked:formData.contactTime.includes('morning'),onChange:e=>{setFormData({...formData,contactTime:[e.target.value]});if(errors.contactTime){setErrors(prev=>({...prev,contactTime:false}));}}}),t('contact.form.preferences.time.options.morning')]}),/*#__PURE__*/_jsxs(RadioLabel,{$hasError:errors.contactTime,children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"contactTime\",value:\"afternoon\",checked:formData.contactTime.includes('afternoon'),onChange:e=>{setFormData({...formData,contactTime:[e.target.value]});if(errors.contactTime){setErrors(prev=>({...prev,contactTime:false}));}}}),t('contact.form.preferences.time.options.afternoon')]})]})]})]}),/*#__PURE__*/_jsx(FormSection,{children:/*#__PURE__*/_jsxs(TextAreaContainer,{children:[/*#__PURE__*/_jsx(CheckboxTitle,{$error:errors.contactTime,children:t('contact.form.inputs.observations')}),/*#__PURE__*/_jsx(TextArea,{name:\"observations\",value:formData.observations,onChange:e=>setFormData({...formData,observations:e.target.value}),style:{flex:1,minHeight:'150px'},$hasError:errors.observations})]})})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(\"h2\",{children:t('contact.form.sections.appointment')}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(LoadingSpinner,{fullScreen:false,size:\"30px\",borderWidth:\"3px\",height:\"100%\"}),children:isAppointmentLoading?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:'300px'},children:/*#__PURE__*/_jsx(LoadingSpinner,{fullScreen:false,size:\"30px\",borderWidth:\"3px\",height:\"auto\"})}):/*#__PURE__*/_jsx(FadeIn,{children:/*#__PURE__*/_jsxs(PreferencesContainer,{children:[\" \",/*#__PURE__*/_jsx(Calendar,{onSelectDate:handleDateSelect,selectedDate:selectedDate}),/*#__PURE__*/_jsxs(PreferenceGroup,{children:[/*#__PURE__*/_jsx(CheckboxTitle,{children:t('contact.form.appointment.time')}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',width:'100%'},children:[\" \",/*#__PURE__*/_jsxs(Select,{name:\"appointmentTime\",value:formData.appointmentTime,onChange:e=>setFormData({...formData,appointmentTime:e.target.value}),$hasError:errors.appointmentTime,children:[/*#__PURE__*/_jsx(\"option\",{value:\"09:00\",children:\"09:00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10:00\",children:\"10:00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"11:00\",children:\"11:00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12:00\",children:\"12:00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"13:00\",children:\"13:00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"14:00\",children:\"14:00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15:00\",children:\"15:00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"16:00\",children:\"16:00\"}),/*#__PURE__*/_jsx(\"option\",{value:\"17:00\",children:\"17:00\"})]})]})]}),/*#__PURE__*/_jsxs(PreferenceGroup,{children:[/*#__PURE__*/_jsx(CheckboxTitle,{children:t('contact.form.appointment.medium.title')}),/*#__PURE__*/_jsxs(RadioContainer,{children:[/*#__PURE__*/_jsxs(RadioLabel,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"appointmentMedium\",value:\"zoom\",checked:formData.appointmentMedium==='zoom',onChange:e=>setFormData({...formData,appointmentMedium:e.target.value})}),t('contact.form.appointment.medium.options.zoom')]}),/*#__PURE__*/_jsxs(RadioLabel,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"appointmentMedium\",value:\"meet\",checked:formData.appointmentMedium==='meet',onChange:e=>setFormData({...formData,appointmentMedium:e.target.value})}),t('contact.form.appointment.medium.options.meet')]}),/*#__PURE__*/_jsxs(RadioLabel,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"appointmentMedium\",value:\"whatsapp\",checked:formData.appointmentMedium==='whatsapp',onChange:e=>setFormData({...formData,appointmentMedium:e.target.value})}),t('contact.form.appointment.medium.options.whatsapp')]})]})]}),/*#__PURE__*/_jsxs(PreferenceGroup,{children:[/*#__PURE__*/_jsx(CheckboxTitle,{$error:errors.captcha,children:t('contact.captcha.title')}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',width:'100%'},children:[\" \",/*#__PURE__*/_jsx(Captcha,{onVerify:verified=>{setIsCaptchaVerified(verified);if(verified){setErrors(prev=>({...prev,captcha:false}));}else{setErrors(prev=>({...prev,captcha:true}));}}})]}),errors.captcha&&/*#__PURE__*/_jsx(ErrorMessage,{children:t('contact.captcha.required')})]})]})})})]})]}),/*#__PURE__*/_jsxs(CustomButtonGroup,{children:[/*#__PURE__*/_jsx(ClearButton,{variant:\"secondary\",size:\"small\",onClick:handleReset,children:t('contact.form.buttons.clear')}),/*#__PURE__*/_jsx(SubmitButton,{variant:\"primary\",size:\"small\",type:\"submit\",children:t('contact.form.buttons.submit')})]})]})})})]})}),showPopup&&/*#__PURE__*/_jsx(Suspense,{fallback:null,children:/*#__PURE__*/_jsx(StandardPopup,{isOpen:showPopup,onClose:handleClosePopup,titleKey:submitStatus.titleKey,children:/*#__PURE__*/_jsxs(PopupMessage,{children:[/*#__PURE__*/_jsx(StatusIcon,{children:submitStatus.success?\"✅\":\"❌\"}),/*#__PURE__*/_jsx(MessageText,{children:submitStatus.message})]})})})]});};export default Contact;","map":{"version":3,"names":["React","useState","useRef","useEffect","Suspense","lazy","useNavigate","styled","ReactTyped","useTranslation","PageContainer","Button","glowButtonStyles","useAnimationController","motion","jsx","_jsx","jsxs","_jsxs","Calendar","StandardPopup","LoadingSpinner","Captcha","ContactWrapper","div","Title","h1","props","theme","colors","secondaryBackground","CheckboxTitle","h3","accent","FormContainer","cardBackground","hasError","FormGrid","Section","primary","Input","input","$hasError","text","TextArea","textarea","baseSpacing","marginBottom","containerGap","Select","select","background","PreferenceGroup","PreferencesContainer","RadioContainer","RadioLabel","label","$error","Divider","MessageText","p","StatusIcon","span","PopupMessage","FormSection","TextAreaContainer","CustomButtonGroup","ClearButton","SubmitButton","ErrorMessage","FadeIn","ContentFadeIn","CaptchaContainer","primaryBackground","CaptchaInput","Contact","shouldAnimate","animationLevel","getFormAnimation","formAnimation","t","formData","setFormData","name","email","phone","company","contactPreference","contactDays","contactTime","appointmentDate","appointmentTime","appointmentMedium","observations","submitStatus","setSubmitStatus","success","titleKey","message","errors","setErrors","selectedDate","setSelectedDate","isLoading","setIsLoading","showPopup","setShowPopup","formStatus","setFormStatus","isSubmitting","isSuccess","error","isCaptchaVerified","setIsCaptchaVerified","showTitle","setShowTitle","isAppointmentLoading","setIsAppointmentLoading","navigate","formRef","contentTimer","setTimeout","clearTimeout","validateForm","console","log","newErrors","trim","test","captcha","Object","keys","length","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","status","contentType","get","includes","Error","data","json","ok","handleReset","current","reset","radios","querySelectorAll","forEach","radio","checked","querySelector","value","handleDateSelect","date","formattedDate","toISOString","split","prev","handleClosePopup","isOpen","children","fullScreen","fallback","strings","typeSpeed","showCursor","cursorChar","startDelay","onSubmit","ref","type","placeholder","onChange","target","autoComplete","style","flex","minHeight","size","borderWidth","height","display","justifyContent","alignItems","onSelectDate","width","onVerify","verified","variant","onClick","onClose"],"sources":["C:/Users/roman/OneDrive/Escritorio/Programador/QWS/Quantum Web Services/quantum-web-services/src/pages/Contact.js"],"sourcesContent":["import React, { useState, useRef, useEffect, Suspense, lazy } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { ReactTyped } from 'react-typed';\nimport { useTranslation } from 'react-i18next';\nimport PageContainer from '../components/PageContainer.js';\nimport Button from '../components/Button.js';\nimport { glowButtonStyles } from '../styles/Animations.js';\nimport { useAnimationController } from '../utils/animationController.js';\nimport { motion } from 'framer-motion';\n\n// Componentes que se cargarán de forma diferida\nconst Calendar = lazy(() => import('../components/Calendar.js'));\nconst StandardPopup = lazy(() => import('../components/StandardPopup.js'));\nconst LoadingSpinner = lazy(() => import('../components/LoadingSpinner.js'));\nconst Captcha = lazy(() => import('../components/Captcha.js'));\n\n\nconst ContactWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: calc(100vh - 120px);\n  width: 100%;\n  padding-bottom: 5rem;\n\n  /* Ensure proper width handling */\n  & > div {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\nconst Title = styled.h1`\n  text-align: center;\n  color: ${props => props.theme.colors.secondaryBackground};\n  margin: 2rem 0;  // Match Services.js margin\n  font-size: 2.5rem;  // Match Services.js font size\n  text-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\n  height: 3.5rem;  // Match Services.js height\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  @media (max-width: 768px) {\n    font-size: 1.8rem;\n    height: 2.8rem;\n    margin: 1.5rem 0;\n  }\n`;\n\n\nconst CheckboxTitle = styled.h3`\n  color: ${props => props.theme.colors.accent};\n  font-size: 1rem;\n  margin-bottom: 1rem;\n  text-align: center;\n  text-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\n`;\n\n\nconst FormContainer = styled.div`\n  width: 150%;\n  max-width: 1300px;\n  margin: 1.5rem 0;  // Match ServicesContainer margin\n  padding: 2rem;  // Match ServicesContainer padding\n  background: ${props => props.theme.colors.cardBackground};\n  backdrop-filter: blur(10px);\n  border-radius: 20px;\n  position: relative;\n  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);\n  border: 1px solid ${props => props.hasError ? '#ff3333' : props.theme.colors.secondaryBackground}40;\n  min-width: min(90%, 1200px);\n  box-sizing: border-box;\n  \n  & > form {\n    width: 100%;\n    max-width: 100%;\n  }\n\n  @media (max-width: 1400px) {\n    max-width: 1000px;\n  }\n\n  @media (max-width: 768px) {\n    width: 95%;\n    padding: 1.5rem;\n    margin: 0.5rem auto;\n    gap: 2rem;\n  }\n`;\n\nconst FormGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 2rem;\n  margin-bottom: 2rem;\n  width: 100%; // Ensure full width\n\n  @media (min-width: 768px) {\n    grid-template-columns: minmax(300px, 1fr) 2px minmax(300px, 1fr);\n    gap: 2rem;\n  }\n\n  /* Ensure grid items don't overflow */\n  & > * {\n    width: 100%;\n    max-width: 100%;\n  }\n`;\n\nconst Section = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem; // Ajustamos el gap para mantener consistencia\n  width: 100%;\n  padding: 1rem;\n\n  h2 {\n    color: ${props => props.theme.colors.primary};\n    font-size: 1.5rem;\n    margin-bottom: 1rem;\n    text-align: left;\n    position: relative;\n\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: -5px;\n      left: 0;\n      width: 100%;\n      height: 2px;\n      background: linear-gradient(\n        90deg,\n        ${props => props.theme.colors.primary},\n        ${props => props.theme.colors.accent},\n        transparent\n      );\n    }\n  }\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  padding: 0.8rem;\n  margin-bottom: 1rem;\n  background: rgba(30, 30, 30, 0.7);\n  border: 1px solid ${props => props.$hasError ? '#ff3333' : `${props.theme.colors.secondaryBackground}40`};\n  border-radius: 8px;\n  color: ${props => props.theme.colors.text};\n\n  &:-webkit-autofill,\n  &:-webkit-autofill:hover,\n  &:-webkit-autofill:focus {\n    -webkit-text-fill-color: ${props => props.theme.colors.text};\n    -webkit-box-shadow: 0 0 0px 1000px rgba(30, 30, 30, 0.7) inset;\n    transition: background-color 5000s ease-in-out 0s;\n  }\n`;\n\nconst TextArea = styled.textarea`\n  width: 100%;\n  padding: 0.8rem;\n  background: rgba(30, 30, 30, 0.7);\n  border: 1px solid ${props => props.$hasError ? '#ff3333' : `${props.theme.colors.secondaryBackground}40`};\n  border-radius: 8px;\n  color: ${props => props.theme.colors.text};\n  flex: 1; // Permitimos que crezca para llenar el espacio\n  min-height: 200px; // Altura mínima que coincide con el captcha\n  height: calc(100% - 2rem); // Restamos el espacio del título\n  resize: vertical;\n  transition: all 0.3s ease;\n  margin-bottom: 0; // Eliminamos el margen inferior\n\n  &:focus {\n    outline: none;\n    border-color: ${props => props.theme.colors.accent};\n    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\n  }\n`;\n\nconst baseSpacing = {\n  marginBottom: '1rem',\n  containerGap: '1.5rem' // Añadimos un valor consistente para el espacio entre contenedores\n};\n\n\nconst Select = styled.select`\n  width: 100%; // Cambiado a ancho completo\n  max-width: 250px; // Mismo ancho máximo que RadioLabel\n  padding: 0.8rem;\n  margin: 0 auto 1rem auto;\n  display: block;\n  background: rgba(30, 30, 30, 0.7);\n  border: 1px solid ${props => props.theme.colors.secondaryBackground}40;\n  border-radius: 8px;\n  color: ${props => props.theme.colors.text};\n  cursor: pointer;\n  text-align: center;\n\n  &:focus {\n    outline: none;\n    border-color: ${props => props.theme.colors.accent};\n    box-shadow: 0 0 10px rgba(0, 255, 255, 0.2);\n  }\n\n  option {\n    background: ${props => props.theme.colors.background};\n    color: ${props => props.theme.colors.text};\n    padding: 0.5rem;\n  }\n`;\n\nconst PreferenceGroup = styled.div`\n  background: rgba(30, 30, 30, 0.5);\n  padding: 1.2rem;\n  border-radius: 8px;\n  border: ${props => props.theme.colors.secondaryBackground};\n  margin-bottom: ${baseSpacing.marginBottom};\n\n  @media (min-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n`;\n\n\nconst PreferencesContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: ${baseSpacing.containerGap}; // Usamos gap en lugar de margin para un espaciado más consistente\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst RadioContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n\n  /* Espaciado consistente para móvil */\n  gap: 1rem;\n\n  @media (min-width: 768px) {\n    flex-direction: row;\n    justify-content: center;\n    gap: 1rem;\n  }\n`;\n\n\nconst RadioLabel = styled.label`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n  color: ${props => props.theme.colors.text};\n  cursor: pointer;\n  padding: 0.8rem 1.2rem;\n  background: rgba(30, 30, 30, 0.7);\n  border-radius: 5px;\n  width: 100%; // Ancho completo\n  max-width: 250px; // Limitar el ancho máximo para mejor apariencia\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: rgba(0, 255, 255, 0.1);\n    transform: translateY(-2px);\n  }\n\n  input[type=\"radio\"] {\n    appearance: none;\n    width: 18px;\n    height: 18px;\n    border: 2px solid ${props => props.$error ? '#ff3333' : props.theme.colors.primary};\n    border-radius: 50%;\n    position: relative;\n    transition: all 0.3s ease;\n\n    &:checked {\n      background: ${props => props.theme.colors.primary};\n      border-color: ${props => props.theme.colors.accent};\n      box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);\n\n      &::after {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        width: 8px;\n        height: 8px;\n        border-radius: 50%;\n        background: ${props => props.theme.colors.background};\n      }\n    }\n  }\n    @media (min-width: 768px) {\n    width: calc(50% - 0.5rem); // Distribuye el espacio equitativamente\n  }\n`;\n\nconst Divider = styled.div`\n  display: none;\n\n  @media (min-width: 768px) {\n    display: block;\n    width: 2px;\n    background: linear-gradient(\n      to bottom,\n      transparent,\n      ${props => props.theme.colors.primary},\n      ${props => props.theme.colors.accent},\n      ${props => props.theme.colors.primary},\n      transparent\n    );\n    margin: 0 1rem;\n    opacity: 0.6;\n  }\n`;\n\nconst MessageText = styled.p`\n  font-size: 1.1rem;\n  line-height: 1.5;\n  color: ${props => props.theme.colors.text};\n  margin: 0.5rem 0;\n`;\n\nconst StatusIcon = styled.span`\n  font-size: 3rem;\n  margin-bottom: 0.5rem;\n`;\n\nconst PopupMessage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem 0;\n`;\n\nconst FormSection = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  flex: 1; // Asegura que ocupe todo el espacio vertical disponible\n`;\n\nconst TextAreaContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100%; // Aseguramos que ocupe todo el espacio vertical disponible\n`;\n\nconst CustomButtonGroup = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  margin-top: 2rem;\n`;\n\nconst ClearButton = styled(Button)`\n  background: ${props => props.theme.colors.secondaryBackground};\n  &:hover {\n    background: ${props => props.theme.colors.secondaryBackground};\n  }\n`;\n\nconst SubmitButton = styled(Button)`\n  ${glowButtonStyles}\n`;\n\nconst ErrorMessage = styled.p`\n  color: #ff3333;\n  font-size: 0.875rem;\n  text-align: center;\n  margin-top: 0.5rem;\n`;\n\nconst FadeIn = styled.div`\n  animation: fadeIn 0.3s ease-in;\n  \n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n`;\n\n\nconst ContentFadeIn = styled.div`\n  opacity: 0;\n  animation: fadeIn 0.3s ease-in forwards;\n  animation-delay: 1s;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  \n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n`;\n\nconst CaptchaContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 1rem;\n  margin: 0.5rem 0;\n  padding: 1.2rem; // Igualado al padding de PreferenceGroup\n  background: ${props => props.theme.colors.primaryBackground};\n  border-radius: 8px;\n  width: 100%; // Ancho completo\n  max-width: 250px; // Mismo ancho máximo que otros elementos\n  margin: 0 auto; // Centrado\n  border: 1px solid ${props => props.$hasError ? '#ff3333' : `${props.theme.colors.secondaryBackground}40`};\n  min-height: 200px; // Altura mínima para alinearse con las observaciones\n  justify-content: center; // Centrado vertical del contenido\n`;\n\nconst CaptchaInput = styled.input`\n  width: 100%; // Ancho completo dentro del contenedor\n  max-width: 200px; // Limitar el ancho máximo\n  padding: 0.8rem;\n  margin-bottom: 0.5rem;\n  border: 1px solid ${props => props.$hasError ? '#ff3333' : `${props.theme.colors.accent}40`};\n  border-radius: 8px;\n  background: rgba(30, 30, 30, 0.7);\n  color: ${props => props.theme.colors.text};\n  text-align: center;\n  font-size: 1rem;\n`;\n\n\nconst Contact = () => {\n  const { shouldAnimate, animationLevel } = useAnimationController();\n\n  // Configuramos las animaciones del formulario\n  const getFormAnimation = () => {\n    // Retornar un objeto vacío para evitar cualquier animación\n    return {};\n  };\n\n  const formAnimation = getFormAnimation();\n\n\n  const { t } = useTranslation();\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    company: '',\n    contactPreference: [],\n    contactDays: [],\n    contactTime: [],\n    appointmentDate: '',\n    appointmentTime: '10:00',\n    appointmentMedium: '',\n    observations: ''\n  });\n\n  const [submitStatus, setSubmitStatus] = useState({\n    success: false,\n    titleKey: '',\n    message: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showPopup, setShowPopup] = useState(false);\n  const [formStatus, setFormStatus] = useState({\n    isSubmitting: false,\n    isSuccess: false,\n    error: null\n  });\n  const [isCaptchaVerified, setIsCaptchaVerified] = useState(false);\n\n  // Nuevos estados para carga progresiva\n  const [showTitle, setShowTitle] = useState(false);\n  const [isAppointmentLoading, setIsAppointmentLoading] = useState(true);\n\n\n\n  const navigate = useNavigate();\n  const formRef = useRef(null);\n\n  useEffect(() => {\n    // Mostrar título primero\n    setShowTitle(true);\n\n    // Después de la animación del título, cargar el contenido\n    const contentTimer = setTimeout(() => {\n      setIsAppointmentLoading(false);\n    }, 1000); // Este delay da tiempo para que el título termine su animación\n\n    return () => {\n      clearTimeout(contentTimer);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (formStatus.isSuccess) {\n      setSubmitStatus({\n        success: true,\n        titleKey: 'contact.form.status.success.title',\n        message: t('contact.form.status.success.message')\n      });\n      setShowPopup(true);\n    } else if (formStatus.error) {\n      setSubmitStatus({\n        success: false,\n        titleKey: 'contact.form.status.error.title',\n        message: t('contact.form.status.error.message')\n      });\n      setShowPopup(true);\n    }\n  }, [formStatus, t]);\n\n  const validateForm = () => {\n    console.log('Starting form validation');\n    const newErrors = {};\n\n    if (!formData.name.trim()) newErrors.name = true;\n    if (!formData.email || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) newErrors.email = true;\n    if (!formData.phone.trim()) newErrors.phone = true;\n    if (!formData.observations || formData.observations.trim() === '') newErrors.observations = true;\n    if (!isCaptchaVerified) newErrors.captcha = true;\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  // Función para manejar el envío del formulario\n  // 3. Update handleSubmit function\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n\n    if (!validateForm()) {\n      setSubmitStatus({\n        success: false,\n        titleKey: 'contact.form.errors.title',\n        message: t('contact.form.errors.required')\n      });\n      setShowPopup(true);\n      setIsLoading(false);\n      return;\n    }\n\n    try {\n      console.log('Enviando datos:', formData); // Debug\n\n      const response = await fetch('http://localhost:5000/api/contact', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n\n      console.log('Response status:', response.status); // Debug\n      console.log('Response headers:', response.headers); // Debug\n\n      const contentType = response.headers.get('content-type');\n      if (!contentType || !contentType.includes('application/json')) {\n        throw new Error('Respuesta no válida del servidor');\n      }\n\n      const data = await response.json();\n      console.log('Response data:', data); // Debug\n\n      if (response.ok) {\n        setFormStatus({ isSubmitting: false, isSuccess: true, error: null });\n        handleReset();\n      } else {\n        throw new Error(data.message || 'Error en el servidor');\n      }\n    } catch (error) {\n      console.error('Error detallado:', error); // Debug\n      setFormStatus({\n        isSubmitting: false,\n        isSuccess: false,\n        error: error.message\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // 4. Update handleReset function\n  const handleReset = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n\n    setFormData({\n      name: '',\n      email: '',\n      phone: '',\n      company: '',\n      contactPreference: [],\n      contactDays: [],\n      contactTime: [],\n      appointmentDate: '',\n      appointmentTime: '10:00',\n      appointmentMedium: '',\n      observations: ''\n    });\n\n    setSelectedDate(null);\n    setErrors({});\n    setIsCaptchaVerified(false);\n    setSubmitStatus({\n      success: false,\n      titleKey: '',\n      message: ''\n    });\n    setShowPopup(false);\n\n    if (formRef.current) {\n      formRef.current.reset();\n      const radios = formRef.current.querySelectorAll('input[type=\"radio\"]');\n      radios.forEach(radio => {\n        radio.checked = false;\n      });\n\n      const textarea = formRef.current.querySelector('textarea');\n      if (textarea) {\n        textarea.value = '';\n      }\n\n      const select = formRef.current.querySelector('select[name=\"appointmentTime\"]');\n      if (select) {\n        select.value = '10:00';\n      }\n    }\n\n\n    // Limpiar cualquier mensaje de error o éxito que pudiera estar mostrándose\n    setShowPopup(false);\n  };\n\n  // Función para manejar la selección de fecha\n  const handleDateSelect = (date) => {\n    if (!date) return;\n    const formattedDate = date.toISOString().split('T')[0];\n    setSelectedDate(date);\n    setFormData(prev => ({\n      ...prev,\n      appointmentDate: formattedDate\n    }));\n  };\n\n  const handleClosePopup = () => {\n    setShowPopup(false);\n    if (submitStatus.success) {\n      setTimeout(() => navigate('/'), 500);\n    }\n  };\n\n  console.log('Rendering popup with:', {\n    isOpen: showPopup,\n    titleKey: submitStatus.titleKey,\n    message: submitStatus.message\n  });\n\n  return (\n    <PageContainer>\n      {isLoading && <LoadingSpinner fullScreen={true} />}\n      <ContactWrapper>\n        <Suspense fallback={<LoadingSpinner />}>\n          <Title>\n            <FadeIn>\n              <ReactTyped\n                strings={[t('contact.title')]}\n                typeSpeed={50}\n                showCursor={true}\n                cursorChar=\"|\"\n                startDelay={300}\n              />\n            </FadeIn>\n          </Title>\n          <ContentFadeIn>\n            <FormContainer $hasError={Object.keys(errors).length > 0}>\n              <form onSubmit={handleSubmit} ref={formRef}>\n                <FormGrid>\n                  {/* Sección de información personal - carga inmediata */}\n                  <Section>\n                    <h2>{t('contact.form.sections.personal')}</h2>\n\n                    {/* Los inputs básicos se mantienen igual ya que son ligeros */}\n                    <Input\n                      type=\"text\"\n                      name=\"name\"\n                      placeholder={t('contact.form.inputs.name')}\n                      value={formData.name}\n                      onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                      $hasError={errors.name}\n                      autoComplete=\"given-name\"\n                    />\n\n                    <Input\n                      type=\"email\"\n                      name=\"email\"\n                      placeholder={t('contact.form.inputs.email')}\n                      value={formData.email}\n                      onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                      $hasError={errors.email}\n                      autoComplete=\"email\"\n                    />\n\n                    <Input\n                      type=\"tel\"\n                      name=\"phone\"\n                      placeholder={t('contact.form.inputs.phone')}\n                      value={formData.phone}\n                      onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                      $hasError={errors.phone}\n                      autoComplete=\"tel\"\n                    />\n\n                    <Input\n                      type=\"text\"\n                      name=\"company\"\n                      placeholder={t('contact.form.inputs.company')}\n                      value={formData.company}\n                      onChange={(e) => setFormData({ ...formData, company: e.target.value })}\n                      autoComplete=\"organization\"\n                    />\n\n                    {/* Grupos de preferencias - carga progresiva */}\n                    <Suspense fallback={<LoadingSpinner />}>\n                      <PreferencesContainer>\n                        <PreferenceGroup $hasError={errors.contactPreference}>\n                          <CheckboxTitle $error={errors.contactPreference}>\n                            {t('contact.form.preferences.contact.title')}\n                          </CheckboxTitle>\n                          <RadioContainer>\n                            <RadioLabel $hasError={errors.contactPreference}>\n                              <input\n                                type=\"radio\"\n                                name=\"contactPreference\"\n                                value=\"phone\"\n                                checked={formData.contactPreference.includes('phone')}\n                                onChange={(e) => {\n                                  setFormData({\n                                    ...formData,\n                                    contactPreference: [e.target.value]\n                                  });\n                                  if (errors.contactPreference) {\n                                    setErrors(prev => ({ ...prev, contactPreference: false }));\n                                  }\n                                }}\n                              />\n                              {t('contact.form.preferences.contact.options.phone')}\n                            </RadioLabel>\n                            <RadioLabel $hasError={errors.contactPreference}>\n                              <input\n                                type=\"radio\"\n                                name=\"contactPreference\"\n                                value=\"email\"\n                                checked={formData.contactPreference.includes('email')}\n                                onChange={(e) => {\n                                  setFormData({\n                                    ...formData,\n                                    contactPreference: [e.target.value]\n                                  });\n                                  if (errors.contactPreference) {\n                                    setErrors(prev => ({ ...prev, contactPreference: false }));\n                                  }\n                                }}\n                              />\n                              {t('contact.form.preferences.contact.options.email')}\n                            </RadioLabel>\n                          </RadioContainer>\n                        </PreferenceGroup>\n                      </PreferencesContainer>\n\n\n\n                      {/* Grupos de días y horarios */}\n                      <PreferenceGroup $hasError={errors.contactDays}>\n                        <CheckboxTitle $error={errors.contactDays}>\n                          {t('contact.form.preferences.days.title')}\n                        </CheckboxTitle>\n                        <RadioContainer>\n                          <RadioLabel $hasError={errors.contactDays}>\n                            <input\n                              type=\"radio\"\n                              name=\"contactDays\"\n                              value=\"weekdays\"\n                              checked={formData.contactDays.includes('weekdays')}\n                              onChange={(e) => {\n                                setFormData({\n                                  ...formData,\n                                  contactDays: [e.target.value]\n                                });\n                                if (errors.contactDays) {\n                                  setErrors(prev => ({ ...prev, contactDays: false }));\n                                }\n                              }}\n                            />\n                            {t('contact.form.preferences.days.options.weekdays')}\n                          </RadioLabel>\n                          <RadioLabel $hasError={errors.contactDays}>\n                            <input\n                              type=\"radio\"\n                              name=\"contactDays\"\n                              value=\"weekend\"\n                              checked={formData.contactDays.includes('weekend')}\n                              onChange={(e) => {\n                                setFormData({\n                                  ...formData,\n                                  contactDays: [e.target.value]\n                                });\n                                if (errors.contactDays) {\n                                  setErrors(prev => ({ ...prev, contactDays: false }));\n                                }\n                              }}\n                            />\n                            {t('contact.form.preferences.days.options.weekend')}\n                          </RadioLabel>\n                        </RadioContainer>\n                      </PreferenceGroup>\n\n                      <PreferenceGroup $hasError={errors.contactTime}>\n                        <CheckboxTitle $error={errors.contactTime}>\n                          {t('contact.form.preferences.time.title')}\n                        </CheckboxTitle>\n                        <RadioContainer>\n                          <RadioLabel $hasError={errors.contactTime}>\n                            <input\n                              type=\"radio\"\n                              name=\"contactTime\"\n                              value=\"morning\"\n                              checked={formData.contactTime.includes('morning')}\n                              onChange={(e) => {\n                                setFormData({\n                                  ...formData,\n                                  contactTime: [e.target.value]\n                                });\n                                if (errors.contactTime) {\n                                  setErrors(prev => ({ ...prev, contactTime: false }));\n                                }\n                              }}\n                            />\n                            {t('contact.form.preferences.time.options.morning')}\n                          </RadioLabel>\n                          <RadioLabel $hasError={errors.contactTime}>\n                            <input\n                              type=\"radio\"\n                              name=\"contactTime\"\n                              value=\"afternoon\"\n                              checked={formData.contactTime.includes('afternoon')}\n                              onChange={(e) => {\n                                setFormData({\n                                  ...formData,\n                                  contactTime: [e.target.value]\n                                });\n                                if (errors.contactTime) {\n                                  setErrors(prev => ({ ...prev, contactTime: false }));\n                                }\n                              }}\n                            />\n                            {t('contact.form.preferences.time.options.afternoon')}\n                          </RadioLabel>\n                        </RadioContainer>\n                      </PreferenceGroup>\n                    </Suspense>\n\n                    {/* Área de observaciones */}\n                    <FormSection>\n                      <TextAreaContainer>\n                        <CheckboxTitle $error={errors.contactTime}>\n                          {t('contact.form.inputs.observations')}\n                        </CheckboxTitle>\n                        <TextArea\n                          name=\"observations\"\n                          value={formData.observations}\n                          onChange={(e) => setFormData({ ...formData, observations: e.target.value })}\n                          style={{ flex: 1, minHeight: '150px' }}\n                          $hasError={errors.observations}\n                        />\n                      </TextAreaContainer>\n                    </FormSection>\n                  </Section>\n\n                  <Divider />\n                  {/* Sección de cita - carga diferida */}\n                  <Section>\n                    <h2>{t('contact.form.sections.appointment')}</h2>\n                    <Suspense fallback={\n                      <LoadingSpinner\n                        fullScreen={false}\n                        size=\"30px\"\n                        borderWidth=\"3px\"\n                        height=\"100%\"\n                      />\n                    }>\n                      {isAppointmentLoading ? (\n                        <div style={{\n                          display: 'flex',\n                          justifyContent: 'center',\n                          alignItems: 'center',\n                          minHeight: '300px'\n                        }}>\n                          <LoadingSpinner\n                            fullScreen={false}\n                            size=\"30px\"\n                            borderWidth=\"3px\"\n                            height=\"auto\"\n                          />\n                        </div>\n                      ) : (\n                        <FadeIn>\n                          <PreferencesContainer> {/* Agregamos el contenedor principal para mantener consistencia */}\n                            <Calendar\n                              onSelectDate={handleDateSelect}\n                              selectedDate={selectedDate}\n                            />\n\n                            <PreferenceGroup>\n                              <CheckboxTitle>\n                                {t('contact.form.appointment.time')}\n                              </CheckboxTitle>\n                              <div style={{ display: 'flex', justifyContent: 'center', width: '100%' }}> {/* Contenedor para centrado */}\n                                <Select\n                                  name=\"appointmentTime\"\n                                  value={formData.appointmentTime}\n                                  onChange={(e) => setFormData({\n                                    ...formData,\n                                    appointmentTime: e.target.value\n                                  })}\n                                  $hasError={errors.appointmentTime}\n                                >\n                                  <option value=\"09:00\">09:00</option>\n                                  <option value=\"10:00\">10:00</option>\n                                  <option value=\"11:00\">11:00</option>\n                                  <option value=\"12:00\">12:00</option>\n                                  <option value=\"13:00\">13:00</option>\n                                  <option value=\"14:00\">14:00</option>\n                                  <option value=\"15:00\">15:00</option>\n                                  <option value=\"16:00\">16:00</option>\n                                  <option value=\"17:00\">17:00</option>\n                                </Select>\n                              </div>\n                            </PreferenceGroup>\n\n                            <PreferenceGroup>\n                              <CheckboxTitle>\n                                {t('contact.form.appointment.medium.title')}\n                              </CheckboxTitle>\n                              <RadioContainer>\n                                <RadioLabel>\n                                  <input\n                                    type=\"radio\"\n                                    name=\"appointmentMedium\"\n                                    value=\"zoom\"\n                                    checked={formData.appointmentMedium === 'zoom'}\n                                    onChange={(e) => setFormData({\n                                      ...formData,\n                                      appointmentMedium: e.target.value\n                                    })}\n                                  />\n                                  {t('contact.form.appointment.medium.options.zoom')}\n                                </RadioLabel>\n                                <RadioLabel>\n                                  <input\n                                    type=\"radio\"\n                                    name=\"appointmentMedium\"\n                                    value=\"meet\"\n                                    checked={formData.appointmentMedium === 'meet'}\n                                    onChange={(e) => setFormData({\n                                      ...formData,\n                                      appointmentMedium: e.target.value\n                                    })}\n                                  />\n                                  {t('contact.form.appointment.medium.options.meet')}\n                                </RadioLabel>\n                                <RadioLabel>\n                                  <input\n                                    type=\"radio\"\n                                    name=\"appointmentMedium\"\n                                    value=\"whatsapp\"\n                                    checked={formData.appointmentMedium === 'whatsapp'}\n                                    onChange={(e) => setFormData({\n                                      ...formData,\n                                      appointmentMedium: e.target.value\n                                    })}\n                                  />\n                                  {t('contact.form.appointment.medium.options.whatsapp')}\n                                </RadioLabel>\n                              </RadioContainer>\n                            </PreferenceGroup>\n\n                            <PreferenceGroup>\n                              <CheckboxTitle $error={errors.captcha}>\n                                {t('contact.captcha.title')}\n                              </CheckboxTitle>\n                              <div style={{ display: 'flex', justifyContent: 'center', width: '100%' }}> {/* Contenedor para centrado */}\n                                <Captcha\n                                  onVerify={(verified) => {\n                                    setIsCaptchaVerified(verified);\n                                    if (verified) {\n                                      setErrors(prev => ({ ...prev, captcha: false }));\n                                    } else {\n                                      setErrors(prev => ({ ...prev, captcha: true }));\n                                    }\n                                  }}\n                                />\n                              </div>\n                              {errors.captcha && (\n                                <ErrorMessage>{t('contact.captcha.required')}</ErrorMessage>\n                              )}\n                            </PreferenceGroup>\n                          </PreferencesContainer>\n                        </FadeIn>\n                      )}\n                    </Suspense>\n                  </Section>\n                </FormGrid>\n\n                <CustomButtonGroup>\n                  <ClearButton\n                    variant=\"secondary\"\n                    size=\"small\"\n                    onClick={handleReset}\n                  >\n                    {t('contact.form.buttons.clear')}\n                  </ClearButton>\n                  <SubmitButton\n                    variant=\"primary\"\n                    size=\"small\"\n                    type=\"submit\"\n                  >\n                    {t('contact.form.buttons.submit')}\n                  </SubmitButton>\n                </CustomButtonGroup>\n              </form>\n            </FormContainer>\n          </ContentFadeIn>\n        </Suspense>\n      </ContactWrapper>\n\n      {/* Popup - carga diferida */}\n      {showPopup && (\n        <Suspense fallback={null}>\n          <StandardPopup\n            isOpen={showPopup}\n            onClose={handleClosePopup}\n            titleKey={submitStatus.titleKey}\n          >\n            <PopupMessage>\n              <StatusIcon>\n                {submitStatus.success ? \"✅\" : \"❌\"}\n              </StatusIcon>\n              <MessageText>\n                {submitStatus.message}\n              </MessageText>\n            </PopupMessage>\n          </StandardPopup>\n        </Suspense>\n      )}\n    </PageContainer>\n  );\n}\n\nexport default Contact;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,IAAI,KAAQ,OAAO,CAC1E,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,UAAU,KAAQ,aAAa,CACxC,OAASC,cAAc,KAAQ,eAAe,CAC9C,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAC1D,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,OAASC,gBAAgB,KAAQ,yBAAyB,CAC1D,OAASC,sBAAsB,KAAQ,iCAAiC,CACxE,OAASC,MAAM,KAAQ,eAAe,CAEtC;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,QAAQ,cAAGd,IAAI,CAAC,IAAM,MAAM,CAAC,2BAA2B,CAAC,CAAC,CAChE,KAAM,CAAAe,aAAa,cAAGf,IAAI,CAAC,IAAM,MAAM,CAAC,gCAAgC,CAAC,CAAC,CAC1E,KAAM,CAAAgB,cAAc,cAAGhB,IAAI,CAAC,IAAM,MAAM,CAAC,iCAAiC,CAAC,CAAC,CAC5E,KAAM,CAAAiB,OAAO,cAAGjB,IAAI,CAAC,IAAM,MAAM,CAAC,0BAA0B,CAAC,CAAC,CAG9D,KAAM,CAAAkB,cAAc,CAAGhB,MAAM,CAACiB,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,KAAK,CAAGlB,MAAM,CAACmB,EAAE;AACvB;AACA,WAAWC,KAAK,EAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACC,mBAAmB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAGD,KAAM,CAAAC,aAAa,CAAGxB,MAAM,CAACyB,EAAE;AAC/B,WAAWL,KAAK,EAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACI,MAAM;AAC7C;AACA;AACA;AACA;AACA,CAAC,CAGD,KAAM,CAAAC,aAAa,CAAG3B,MAAM,CAACiB,GAAG;AAChC;AACA;AACA;AACA;AACA,gBAAgBG,KAAK,EAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACM,cAAc;AAC1D;AACA;AACA;AACA;AACA,sBAAsBR,KAAK,EAAIA,KAAK,CAACS,QAAQ,CAAG,SAAS,CAAGT,KAAK,CAACC,KAAK,CAACC,MAAM,CAACC,mBAAmB;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAO,QAAQ,CAAG9B,MAAM,CAACiB,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAc,OAAO,CAAG/B,MAAM,CAACiB,GAAG;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAaG,KAAK,EAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACU,OAAO;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAUZ,KAAK,EAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACU,OAAO;AAC7C,UAAUZ,KAAK,EAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACI,MAAM;AAC5C;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAO,KAAK,CAAGjC,MAAM,CAACkC,KAAK;AAC1B;AACA;AACA;AACA;AACA,sBAAsBd,KAAK,EAAIA,KAAK,CAACe,SAAS,CAAG,SAAS,CAAG,GAAGf,KAAK,CAACC,KAAK,CAACC,MAAM,CAACC,mBAAmB,IAAI;AAC1G;AACA,WAAWH,KAAK,EAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACc,IAAI;AAC3C;AACA;AACA;AACA;AACA,+BAA+BhB,KAAK,EAAIA,KAAK,CAACC,KAAK,CAACC,MAAM,CAACc,IAAI;AAC/D;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGrC,MAAM,CAACsC,QAAQ;AAChC;AA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}