{"ast":null,"code":"import{useEffect,useState}from'react';export const useAnimationController=()=>{// Añadimos el estado para controlar si la animación ya ocurrió\nconst[shouldAnimate,setShouldAnimate]=useState(false);const[hasAnimated,setHasAnimated]=useState(false);const[isReducedMotion,setIsReducedMotion]=useState(false);const[devicePerformance,setDevicePerformance]=useState('high');useEffect(()=>{// Detectar preferencias de reducción de movimiento\nconst mediaQuery=window.matchMedia('(prefers-reduced-motion: reduce)');setIsReducedMotion(mediaQuery.matches);// Evaluar performance del dispositivo\nconst evaluatePerformance=()=>{var _navigator,_navigator2;const memory=((_navigator=navigator)===null||_navigator===void 0?void 0:_navigator.deviceMemory)||4;const cores=((_navigator2=navigator)===null||_navigator2===void 0?void 0:_navigator2.hardwareConcurrency)||4;if(memory<=2||cores<=2)return'low';if(memory<=4||cores<=4)return'medium';return'high';};setDevicePerformance(evaluatePerformance());// Activar animaciones solo después de la carga inicial\nconst timer=setTimeout(()=>{setShouldAnimate(true);},1000);return()=>clearTimeout(timer);},[]);// Función para marcar que una animación se ha completado\nconst completeAnimation=()=>{setHasAnimated(true);};// Determinar qué nivel de animaciones usar\nconst getAnimationConfig=()=>{if(isReducedMotion)return'minimal';if(devicePerformance==='low')return'reduced';if(devicePerformance==='medium')return'balanced';return'full';};return{shouldAnimate,hasAnimated,completeAnimation,animationLevel:getAnimationConfig(),isReducedMotion,devicePerformance};};","map":{"version":3,"names":["useEffect","useState","useAnimationController","shouldAnimate","setShouldAnimate","hasAnimated","setHasAnimated","isReducedMotion","setIsReducedMotion","devicePerformance","setDevicePerformance","mediaQuery","window","matchMedia","matches","evaluatePerformance","_navigator","_navigator2","memory","navigator","deviceMemory","cores","hardwareConcurrency","timer","setTimeout","clearTimeout","completeAnimation","getAnimationConfig","animationLevel"],"sources":["C:/Users/roman/OneDrive/Escritorio/Programador/QWS/Quantum Web Services/quantum-web-services/src/utils/animationController.js"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nexport const useAnimationController = () => {\n    // Añadimos el estado para controlar si la animación ya ocurrió\n    const [shouldAnimate, setShouldAnimate] = useState(false);\n    const [hasAnimated, setHasAnimated] = useState(false);\n    const [isReducedMotion, setIsReducedMotion] = useState(false);\n    const [devicePerformance, setDevicePerformance] = useState('high');\n\n    useEffect(() => {\n        // Detectar preferencias de reducción de movimiento\n        const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n        setIsReducedMotion(mediaQuery.matches);\n\n        // Evaluar performance del dispositivo\n        const evaluatePerformance = () => {\n            const memory = navigator?.deviceMemory || 4;\n            const cores = navigator?.hardwareConcurrency || 4;\n            \n            if (memory <= 2 || cores <= 2) return 'low';\n            if (memory <= 4 || cores <= 4) return 'medium';\n            return 'high';\n        };\n\n        setDevicePerformance(evaluatePerformance());\n\n        // Activar animaciones solo después de la carga inicial\n        const timer = setTimeout(() => {\n            setShouldAnimate(true);\n        }, 1000);\n\n        return () => clearTimeout(timer);\n    }, []);\n\n    // Función para marcar que una animación se ha completado\n    const completeAnimation = () => {\n        setHasAnimated(true);\n    };\n\n    // Determinar qué nivel de animaciones usar\n    const getAnimationConfig = () => {\n        if (isReducedMotion) return 'minimal';\n        if (devicePerformance === 'low') return 'reduced';\n        if (devicePerformance === 'medium') return 'balanced';\n        return 'full';\n    };\n\n    return {\n        shouldAnimate,\n        hasAnimated,\n        completeAnimation,\n        animationLevel: getAnimationConfig(),\n        isReducedMotion,\n        devicePerformance\n    };\n};"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,MAAO,MAAM,CAAAC,sBAAsB,CAAGA,CAAA,GAAM,CACxC;AACA,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGH,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACI,WAAW,CAAEC,cAAc,CAAC,CAAGL,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACM,eAAe,CAAEC,kBAAkB,CAAC,CAAGP,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACQ,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGT,QAAQ,CAAC,MAAM,CAAC,CAElED,SAAS,CAAC,IAAM,CACZ;AACA,KAAM,CAAAW,UAAU,CAAGC,MAAM,CAACC,UAAU,CAAC,kCAAkC,CAAC,CACxEL,kBAAkB,CAACG,UAAU,CAACG,OAAO,CAAC,CAEtC;AACA,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,KAAAC,UAAA,CAAAC,WAAA,CAC9B,KAAM,CAAAC,MAAM,CAAG,EAAAF,UAAA,CAAAG,SAAS,UAAAH,UAAA,iBAATA,UAAA,CAAWI,YAAY,GAAI,CAAC,CAC3C,KAAM,CAAAC,KAAK,CAAG,EAAAJ,WAAA,CAAAE,SAAS,UAAAF,WAAA,iBAATA,WAAA,CAAWK,mBAAmB,GAAI,CAAC,CAEjD,GAAIJ,MAAM,EAAI,CAAC,EAAIG,KAAK,EAAI,CAAC,CAAE,MAAO,KAAK,CAC3C,GAAIH,MAAM,EAAI,CAAC,EAAIG,KAAK,EAAI,CAAC,CAAE,MAAO,QAAQ,CAC9C,MAAO,MAAM,CACjB,CAAC,CAEDX,oBAAoB,CAACK,mBAAmB,CAAC,CAAC,CAAC,CAE3C;AACA,KAAM,CAAAQ,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC3BpB,gBAAgB,CAAC,IAAI,CAAC,CAC1B,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMqB,YAAY,CAACF,KAAK,CAAC,CACpC,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAG,iBAAiB,CAAGA,CAAA,GAAM,CAC5BpB,cAAc,CAAC,IAAI,CAAC,CACxB,CAAC,CAED;AACA,KAAM,CAAAqB,kBAAkB,CAAGA,CAAA,GAAM,CAC7B,GAAIpB,eAAe,CAAE,MAAO,SAAS,CACrC,GAAIE,iBAAiB,GAAK,KAAK,CAAE,MAAO,SAAS,CACjD,GAAIA,iBAAiB,GAAK,QAAQ,CAAE,MAAO,UAAU,CACrD,MAAO,MAAM,CACjB,CAAC,CAED,MAAO,CACHN,aAAa,CACbE,WAAW,CACXqB,iBAAiB,CACjBE,cAAc,CAAED,kBAAkB,CAAC,CAAC,CACpCpB,eAAe,CACfE,iBACJ,CAAC,CACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}