{"ast":null,"code":"import React,{useCallback,useState,useEffect}from'react';import{useTranslation}from'react-i18next';import styled,{keyframes}from'styled-components';import{useAnimationController}from'../utils/animationController.js';// // Mantenemos la animación original de deslizamiento\n// const slideIn = keyframes`\n//   from {\n//     transform: translateX(-100%) scale(1);\n//     opacity: 0;\n//   }\n//   to {\n//     transform: translateX(0) scale(1);\n//     opacity: 1;\n//   }\n// `;\n// Contenedor principal con animación condicional\nimport{jsx as _jsx}from\"react/jsx-runtime\";const LanguageSelectorContainer=styled.div`\n  position: fixed;\n  left: 0;\n  top: 140px;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  z-index: 1000;\n  background: ${props=>props.theme.colors.cardBackground};\n  padding: 8px;\n  border-radius: 0 8px 8px 0;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  border: 1px solid ${props=>props.theme.colors.secondaryBackground}40;\n  transform-origin: left center;\n  \n  @media (max-width: 768px) {\n    top: 150px;\n    transform: scale(0.7);\n    padding: 6px;\n    gap: 3px;\n  }\n`;// Botón de idioma mejorado con props transientes\nconst LanguageButton=styled.button`\n  width: 40px;\n  height: 40px;\n  border: none;\n  border-radius: 50%;\n  padding: 5px;\n  cursor: pointer;\n  background: transparent;\n  opacity: ${props=>props.$isActive?1:0.3};\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  \n  // Eliminamos el outline por defecto\n  outline: none;\n  \n  // Agregamos un estilo personalizado para el focus que coincide con nuestro tema\n  &:focus-visible {\n    box-shadow: 0 0 0 2px ${props=>props.theme.colors.accent}40;\n  }\n  \n  &:hover {\n    transform: scale(1.3);\n    opacity: 1;\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  // Eliminamos el focus cuando se hace click y se mueve el mouse\n  &:focus:not(:focus-visible) {\n    box-shadow: none;\n  }\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 50%;\n    transform: translateZ(0);\n  }\n\n  @media (max-width: 768px) {\n    width: 28px;\n    height: 28px;\n    padding: 3px;\n    \n    &:hover {\n      transform: scale(1.2);\n    }\n  }\n`;// Configuración de idiomas\nconst LANGUAGES={es:{flag:\"/images/flags/es.png\",label:\"Español\"},en:{flag:\"/images/flags/gb.png\",label:\"English\"},pt:{flag:\"/images/flags/br.png\",label:\"Português\"}};const LanguageSelector=()=>{const{i18n}=useTranslation();const{shouldAnimate,animationLevel}=useAnimationController();const[isVisible,setIsVisible]=useState(false);// Efecto para manejar la visibilidad inicial\nuseEffect(()=>{const timer=setTimeout(()=>{setIsVisible(true);},100);return()=>clearTimeout(timer);},[]);// Función optimizada para cambio de idioma\nconst changeLanguage=useCallback(lng=>{// Prevenimos cambios innecesarios\nif(i18n.language===lng)return;// Actualizamos el idioma\ni18n.changeLanguage(lng);document.documentElement.lang=lng;localStorage.setItem('i18nextLng',lng);// Efecto de retroalimentación táctil en dispositivos móviles si está disponible\nif(window.navigator.vibrate){window.navigator.vibrate(50);}},[i18n]);// Optimización de renderizado para las banderas\nconst renderLanguageButtons=useCallback(()=>{return Object.entries(LANGUAGES).map(_ref=>{let[code,{flag,label}]=_ref;const isActive=i18n.language===code;return/*#__PURE__*/_jsx(LanguageButton,{onClick:()=>changeLanguage(code),$isActive:isActive,title:label,\"aria-label\":`Cambiar idioma a ${label}`,role:\"button\",tabIndex:0,children:/*#__PURE__*/_jsx(\"img\",{src:flag,alt:`${label} flag`,loading:\"lazy\",width:\"40\",height:\"40\"})},code);});},[i18n.language,changeLanguage]);// Solo renderizamos si es visible\nif(!isVisible)return null;return/*#__PURE__*/_jsx(LanguageSelectorContainer,{role:\"region\",\"aria-label\":\"Selector de idioma\",children:renderLanguageButtons()});};// Exportamos el componente memorizado\nexport default/*#__PURE__*/React.memo(LanguageSelector);","map":{"version":3,"names":["React","useCallback","useState","useEffect","useTranslation","styled","keyframes","useAnimationController","jsx","_jsx","LanguageSelectorContainer","div","props","theme","colors","cardBackground","secondaryBackground","LanguageButton","button","$isActive","accent","LANGUAGES","es","flag","label","en","pt","LanguageSelector","i18n","shouldAnimate","animationLevel","isVisible","setIsVisible","timer","setTimeout","clearTimeout","changeLanguage","lng","language","document","documentElement","lang","localStorage","setItem","window","navigator","vibrate","renderLanguageButtons","Object","entries","map","_ref","code","isActive","onClick","title","role","tabIndex","children","src","alt","loading","width","height","memo"],"sources":["C:/Users/roman/OneDrive/Escritorio/Programador/QWS/Quantum Web Services/quantum-web-services/src/components/LanguageSelector.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled, { keyframes } from 'styled-components';\nimport { useAnimationController } from '../utils/animationController.js';\n\n// // Mantenemos la animación original de deslizamiento\n// const slideIn = keyframes`\n//   from {\n//     transform: translateX(-100%) scale(1);\n//     opacity: 0;\n//   }\n//   to {\n//     transform: translateX(0) scale(1);\n//     opacity: 1;\n//   }\n// `;\n\n// Contenedor principal con animación condicional\nconst LanguageSelectorContainer = styled.div`\n  position: fixed;\n  left: 0;\n  top: 140px;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  z-index: 1000;\n  background: ${props => props.theme.colors.cardBackground};\n  padding: 8px;\n  border-radius: 0 8px 8px 0;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  border: 1px solid ${props => props.theme.colors.secondaryBackground}40;\n  transform-origin: left center;\n  \n  @media (max-width: 768px) {\n    top: 150px;\n    transform: scale(0.7);\n    padding: 6px;\n    gap: 3px;\n  }\n`;\n\n// Botón de idioma mejorado con props transientes\nconst LanguageButton = styled.button`\n  width: 40px;\n  height: 40px;\n  border: none;\n  border-radius: 50%;\n  padding: 5px;\n  cursor: pointer;\n  background: transparent;\n  opacity: ${props => props.$isActive ? 1 : 0.3};\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  \n  // Eliminamos el outline por defecto\n  outline: none;\n  \n  // Agregamos un estilo personalizado para el focus que coincide con nuestro tema\n  &:focus-visible {\n    box-shadow: 0 0 0 2px ${props => props.theme.colors.accent}40;\n  }\n  \n  &:hover {\n    transform: scale(1.3);\n    opacity: 1;\n  }\n  \n  &:active {\n    transform: scale(0.95);\n  }\n  \n  // Eliminamos el focus cuando se hace click y se mueve el mouse\n  &:focus:not(:focus-visible) {\n    box-shadow: none;\n  }\n  \n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 50%;\n    transform: translateZ(0);\n  }\n\n  @media (max-width: 768px) {\n    width: 28px;\n    height: 28px;\n    padding: 3px;\n    \n    &:hover {\n      transform: scale(1.2);\n    }\n  }\n`;\n\n// Configuración de idiomas\nconst LANGUAGES = {\n  es: {\n    flag: \"/images/flags/es.png\",\n    label: \"Español\"\n  },\n  en: {\n    flag: \"/images/flags/gb.png\",\n    label: \"English\"\n  },\n  pt: {\n    flag: \"/images/flags/br.png\",\n    label: \"Português\"\n  }\n};\n\nconst LanguageSelector = () => {\n  const { i18n } = useTranslation();\n  const { shouldAnimate, animationLevel } = useAnimationController();\n  const [isVisible, setIsVisible] = useState(false);\n\n  // Efecto para manejar la visibilidad inicial\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsVisible(true);\n    }, 100);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Función optimizada para cambio de idioma\n  const changeLanguage = useCallback((lng) => {\n    // Prevenimos cambios innecesarios\n    if (i18n.language === lng) return;\n\n    // Actualizamos el idioma\n    i18n.changeLanguage(lng);\n    document.documentElement.lang = lng;\n    localStorage.setItem('i18nextLng', lng);\n\n    // Efecto de retroalimentación táctil en dispositivos móviles si está disponible\n    if (window.navigator.vibrate) {\n      window.navigator.vibrate(50);\n    }\n  }, [i18n]);\n\n  // Optimización de renderizado para las banderas\n  const renderLanguageButtons = useCallback(() => {\n    return Object.entries(LANGUAGES).map(([code, { flag, label }]) => {\n      const isActive = i18n.language === code;\n\n      return (\n        <LanguageButton\n          key={code}\n          onClick={() => changeLanguage(code)}\n          $isActive={isActive}\n          title={label}\n          aria-label={`Cambiar idioma a ${label}`}\n          role=\"button\"\n          tabIndex={0}\n        >\n          <img\n            src={flag}\n            alt={`${label} flag`}\n            loading=\"lazy\"\n            width=\"40\"\n            height=\"40\"\n          />\n        </LanguageButton>\n      );\n    });\n  }, [i18n.language, changeLanguage]);\n\n  // Solo renderizamos si es visible\n  if (!isVisible) return null;\n\n  return (\n    <LanguageSelectorContainer\n      role=\"region\"\n      aria-label=\"Selector de idioma\"\n    >\n      {renderLanguageButtons()}\n    </LanguageSelectorContainer>\n  );\n};\n\n// Exportamos el componente memorizado\nexport default React.memo(LanguageSelector);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}